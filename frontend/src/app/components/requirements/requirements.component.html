<div class="project-requirements">
    <h3 class="title">Requirements</h3>
    <div class="title-container">
        <div class="global-filter-container">
            <input pInputText type="text" (input)="dt.filterGlobal($any($event.target).value, 'contains')" placeholder="Search" />
        </div> 
        <button class="add-requirement" title="Add requirement">
            <i class="pi pi-plus" (click)="addRequirement()"></i>
        </button>
    </div>

    <p-table #dt [value]="requirements" class="requirements-table"
            [responsiveLayout]="'scroll'" [scrollable]="true" [scrollHeight]="'80%'"
            [globalFilterFields]="['requirement_id', 'title', 'type', 'priority', 'status']" >

        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="requirement_id">
                    <div>
                        <div>ID</div>
                        <p-sortIcon field="requirement_id"></p-sortIcon>
                    </div>
                </th>
                <th pSortableColumn="title">
                    <div>
                        <div>Title</div>
                        <p-sortIcon field="title"></p-sortIcon>
                    </div>
                </th>
                <th pSortableColumn="type">
                    <div>
                        <div>Type</div>
                        <p-sortIcon field="type"></p-sortIcon>
                    </div>
                </th>
                <th pSortableColumn="priority">
                    <div>
                        <div>Priority</div>
                        <p-sortIcon field="priority"></p-sortIcon>
                    </div>
                </th>
                <th pSortableColumn="status">
                    <div>
                        <div>Status</div>
                        <p-sortIcon field="status"></p-sortIcon>
                    </div>
                </th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-requirement>
            <tr>
                <td class="requirement-id" (click)="viewRequirement(requirement.id)">
                    {{ requirement.requirement_id }}
                </td>
                <td>
                    {{ requirement.title }}
                </td>
                <td>
                    {{ requirement.type }}
                </td>
                <td>
                    {{ requirement.priority }}
                </td>
                <td>
                    {{ requirement.status }}
                </td>
            </tr>
        </ng-template>

    </p-table>
</div>